## WebComponent плагин для CakePHP.

### Что может этот плагин?

При помощи этого плагина можно быстро создавать каркас для веб-компонента, используя командную строку.
Без этого плагина невозможна работа веб-компонентов, созданных через командную строку.

### Установка

Вы можете установить этот плагин в свое приложение CakePHP с помощью [composer](https://getcomposer.org).

Рекомендуемый способ установки пакетов composer - это:

```
composer require valeriy-brunov/web-component
composer dumpautoload
bin/cake plugin load WebComponent
```

### Настройка

После установки плагина необходимо подключить помошник плагина. Для этого необходимо добавить строку:

```php
// ./src/Controller/AppController.php
public function initialize(): void
{
    // Добавить строку:
    $this->viewBuilder()->addHelper('WebComponent.Webcomp');
}
```

### Основные команды

Создать файлы для нового веб-компонента:

```
$ sudo bin/cake webcomp <name>
```

где *name* - имя веб-компонента, может состоять из нескольких слов через символ "-" (тире).

Можно создавать файлы веб-компонента в созданном плагине (только для плагинов в директории plugin).
Для начала создадим новый плагин. Делается это командой:

```
$ sudo bin/cake bake plugin <name>
```
Далее, внутри этого плагина создим файлы веб-компонента:

```
$ sudo bin/cake webcomp <name> --plugin
```
Или применим краткую запись команды:

```
$ sudo bin/cake webcomp <name> -p
```
Аргумент *name* (имя веб-компонента) должно обязательно совпадать с именем плагина.

### Работа с созданным веб-компонентом.

После создания вееб-компонента через терминал его необходимо разместить на веб-странице. Сделать это можно
при помощи вызова хелпера:

```php
echo $this->Webcomp->имяВебКомпонента([options]);
```

Если название веб-компонента состоит из нескольких слов через дефис, то необходимо использовать горбатую
(верблюжью) запись: первое слово в названии с маленькой буквы, следующие слова с большой буквы без дефиса.
Пример:

```php
// Вызвать веб-компонент 'my-field-color':
echo $this->Webcomp->myFieldColor();
```

При создании веб-компонента через командную строку, в коментарии созданного CakePHP елемента будет указана строка с вызовом хелпера.
Эту строку можно просто скопировать и вставить в нужное место страницы.

```php
<?php
/**
 * CakePHP элемент "field-telephone" для генерации одноимённого веб-компонента.
 *
 * Описание. Предназначение.
 *
 * Используйте <?= $this->Webcomp->fieldTelephone() ?>
 *
 * Настройки веб-компонента:
 ...
```

При необходимости веб-компонент можно настроить. Для этого необходимо указать его опцию [options] в виде массива. Указанный массив
преобразуется в атрибуты со значениями.

В качестве имён атрибутов можно использовать любые имена, кроме зарезервированного слова 'js'. Данное зарезервированное слово
используется для служебного пользования и не рекомендуется изменять его значение.

Если необходимо добавить контент внутрь тега <template> веб-компонента, используйте зарезервированное слово 'content'.
Пример:

```php
echo $this->Webcomp->myField([
  'view' => 'on',
  'color' => 'red',
  'content' => 'Мой контент',
]);
```

Указанный код преобразуется:

```html
<brunov-my-field "view"="on" "color"="red">
  <template class="my-field">
    Мой контент.
  </template>
</brunov-my-field>
```













